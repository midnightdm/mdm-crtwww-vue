{"version":3,"sources":["webpack:///./src/views/admin/AdminLogin.vue","webpack:///./src/views/admin/AdminLogin.vue?7c6f","webpack:///./src/views/admin/AdminLogin.vue?2a1d"],"names":["class","style","handleSigninSubmit","label","name","type","placeholder","label-position","outline","inner-icon-left","isPassword","inner-icon-right","bg-color","dark","store","getters","getIsAuthenticated","getIsAdmin","setup","uas","router","dialogOn","dialogFullscreen","dialogPersistent","dialogPersistentNoAnimation","dialogWidth","dialogRemove","e","target","elements","email","password","value","auth","then","userCredentials","dispatch","user","uid","catch","error","console","log","message","push","alert","commit","data","render"],"mappings":"0IAEOA,MAAM,c,EACT,eAAqC,UAAjC,gCAA4B,G,EAAK,eAAI,mB,EAyBrC,eAAI,mB,iBAKK,W,EAIb,eAAI,mB,GACuEC,MAAA,e,6GArC/E,eAwCO,aAvCL,eAsCI,MAtCJ,EAsCI,CArCF,EAAqC,EACrC,eAgCO,QAhCA,SAAM,8CAAU,EAAAC,oBAAA,EAAAA,mBAAA,qBAAkB,e,CAErC,eASU,GARVF,MAAM,MACNG,MAAM,QACNC,KAAK,QACLC,KAAK,QACLC,YAAY,QACZC,iBAAe,OACfC,QAAA,GACAC,kBAAgB,oBAGhB,eAUU,GATVT,MAAM,MACNM,YAAY,WACZH,MAAM,WACNC,KAAK,WACLG,iBAAe,OACdF,KAAM,EAAAK,WAAU,kBAChBD,kBAAiB,EAAAC,WAAU,gCAC3BC,mBAAkB,EAAAD,WAAU,gCAC5B,yBAAsB,+BAAE,EAAAA,YAAc,EAAAA,c,sDAEvC,EACA,eAMa,GALTV,MAAM,cACNK,KAAK,SACLO,WAAS,UACTC,KAAA,I,yBAAK,iBAEP,C,iBAEN,E,eACA,eAA2J,KAA3J,EAA8F,2DAAwD,M,QAA1I,EAAAC,MAAMC,QAAQC,qBAAuB,EAAAF,MAAMC,QAAQE,kB,4EAcpD,GACbC,MADa,WAEX,IAAMC,EAAM,iBACNC,EAAS,iBACTN,EAAQ,iBAERO,EAAW,gBAAI,GACfC,GAAmB,EACnBC,GAAmB,EACnBC,GAA8B,EAC9BC,EAAc,IACdC,GAAe,EAEfxB,EAAiB,yDAAI,WAAMyB,GAAN,oGACGA,EAAEC,OAAOC,SAA7BC,EADiB,EACjBA,MAAOC,EADU,EACVA,SADU,SAGvBV,EAASW,OAAQ,EAHM,SAIjB,eAA2Bb,EAAIc,KAAMH,EAAME,MAAOD,EAASC,OAChEE,KADK,yDACA,WAAOC,GAAP,iGACIrB,EAAMsB,SAAS,4BAA6BD,GADhD,uBAEIrB,EAAMsB,SAAS,wBAAyBD,EAAgBE,KAAKC,KAFjE,2CADA,uDAKHC,OAAM,SAACC,GACJC,QAAQC,IAAI,oBAAqBF,EAAMG,YAE5CT,MAAK,WACJd,EAAOwB,KAAK,qBAbS,0DAgBrBC,MAAM,KAAEF,SAhBa,yDAAJ,sDA4BvB,OAPA,eAAS,wCAAC,8FAER7B,EAAMgC,OAAO,kBAAmB,cAChChC,EAAMgC,OAAO,WAAY,eAHjB,4CAOH,CAAE5C,qBACPmB,WAAUC,mBAAkBC,mBAAkBC,8BAA6BC,cAAaC,eAAcN,SAAQN,QAAOK,QAIzH4B,KAAM,WACJ,MAAO,CACHrC,YAAY,K,UC/FpB,EAAOsC,OAASA,EAED,gB,oCCPf,W","file":"js/chunk-fe201e7a.f21047af.js","sourcesContent":["<template>\r\n<main>\r\n  <div class=\"title4 mb2\">    \r\n    <h2>Administrator Login Required</h2><br>\r\n    <form @submit.prevent=\"handleSigninSubmit\">\r\n\r\n        <w-input\r\n        class=\"mb2\"\r\n        label=\"Email\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        placeholder=\"email\"\r\n        label-position=\"left\"\r\n        outline\r\n        inner-icon-left=\"mdi mdi-account\">\r\n        </w-input>\r\n\r\n        <w-input \r\n        class=\"mb2\"\r\n        placeholder=\"password\"\r\n        label=\"Password\"\r\n        name=\"password\"\r\n        label-position=\"left\"\r\n        :type=\"isPassword ? 'password' : 'text'\"\r\n        :inner-icon-left=\"isPassword ? 'mdi mdi-eye-off' : 'mdi mdi-eye'\"\r\n        :inner-icon-right=\"isPassword ? 'mdi mdi-eye-off' : 'mdi mdi-eye'\"\r\n        @click:inner-icon-right=\"isPassword = !isPassword\">\r\n        </w-input>\r\n        <br>\r\n        <w-button\r\n            class=\"px4 btnGrpA\"\r\n            type=\"submit\"\r\n            bg-color=\"primary\"\r\n            dark>\r\n            Login\r\n          </w-button> \r\n    </form>\r\n    <br>\r\n    <h3 v-show=\"store.getters.getIsAuthenticated && !store.getters.getIsAdmin\" style=\"color: red\">The logged user does not have administrative priveleges.</h3>\r\n\r\n</div>\r\n</main>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\"\r\nimport { useRouter } from 'vue-router'\r\nimport { ref, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport {userAuthState} from '@/store/firebaseApp.js'\r\n\r\nexport default {\r\n  setup() {\r\n    const uas = userAuthState()\r\n    const router = useRouter()\r\n    const store = useStore()\r\n\r\n    const dialogOn = ref(false)\r\n    const dialogFullscreen = false\r\n    const dialogPersistent = false\r\n    const dialogPersistentNoAnimation = false\r\n    const dialogWidth = 399\r\n    const dialogRemove = false\r\n\r\n    const handleSigninSubmit = async e => {\r\n      const { email, password } = e.target.elements\r\n      try {\r\n        dialogOn.value = false\r\n        await signInWithEmailAndPassword(uas.auth, email.value, password.value)\r\n        .then(async (userCredentials) => {\r\n            await store.dispatch('saveLoggeduserCredentials', userCredentials)\r\n            await store.dispatch('testLoggeduserIsAdmin', userCredentials.user.uid)    \r\n          })\r\n          .catch((error) => {\r\n              console.log(\"AdminLogin Error:\", error.message)\r\n          })\r\n        .then(()=>{\r\n          router.push('/admin/vessels')\r\n          } )\r\n      } catch(e) {\r\n          alert(e.message)\r\n      }\r\n    }\r\n\r\n\r\n    onMounted(async () => {\r\n\r\n      store.commit('setPageSelected', 'AdminLogin')\r\n      store.commit('setSlate', 'ADMIN LOGIN')\r\n\r\n    })\r\n\r\n    return { handleSigninSubmit, \r\n      dialogOn, dialogFullscreen, dialogPersistent, dialogPersistentNoAnimation, dialogWidth, dialogRemove, router, store, uas\r\n    }\r\n  },\r\n\r\n  data: function() {\r\n    return {\r\n        isPassword: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nmain {\r\n padding-top: var(--menu-pad-wide-a);\r\n}\r\n\r\nform {\r\n  margin: auto;\r\n  width: 80vw;\r\n}\r\n\r\nfieldset {\r\n    width: 5em;\r\n    padding: 1em;\r\n}\r\n</style>","import { render } from \"./AdminLogin.vue?vue&type=template&id=51803d1e\"\nimport script from \"./AdminLogin.vue?vue&type=script&lang=js\"\nexport * from \"./AdminLogin.vue?vue&type=script&lang=js\"\n\nimport \"./AdminLogin.vue?vue&type=style&index=0&id=51803d1e&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AdminLogin.vue?vue&type=style&index=0&id=51803d1e&lang=css\""],"sourceRoot":""}