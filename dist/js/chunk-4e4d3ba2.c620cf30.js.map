{"version":3,"sources":["webpack:///./src/views/logs/LogsMore.vue?d362","webpack:///./src/views/logs/LogsMore.vue","webpack:///./src/views/logs/LogsMore.vue?f669"],"names":["id","class","scrolled","topOfPage","$store","getters","getOtherMonth","length","pageTitle","getSelection","dialog1","show","bg-color","dark","formattedRange","vessel","key","vesselID","src","vesselImageUrl","width","vesselName","passageDirection","upArrUrl","title","dnArrUrl","marker2DO","toLocaleDateString","marker1DO","toLocaleTimeString","to","passageVesselID","persistent","persistent-no-animation","persistentNoAnimation","title-class","actions","updateMonth","selectedMonth","size","listData","event","value","name","created","window","addEventListener","this","handleScroll","now","Date","setDate","mili","getTime","twoago","dt2","format","dispatch","monthKey","region","nine20","nine20mili","push","mounted","commit","computed","undefined","state","a","otherMonthRange","lo","hi","methods","document","body","scrollTop","documentElement","console","log","data","fullscreen","remove","listAvail","components","LogsSubMenu","render","__scopeId"],"mappings":"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","file":"js/chunk-4e4d3ba2.c620cf30.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LogsMore.vue?vue&type=style&index=0&id=0ec5ec6b&scoped=true&lang=css\"","<template>\r\n  <main id=\"LogsMore\">\r\n  <button v-bind:class=\"{ active: scrolled}\" id=\"topbtn\" @click=\"topOfPage\">Top</button>\r\n    <section>\r\n      <h1>{{this.$store.getters.getOtherMonth.length}} Vessel Passage<span v-if=\"this.$store.getters.getOtherMonth.length != 1\">s</span> In {{pageTitle}} \r\n      <w-button\r\n        class=\"px4 btnGrpA\"\r\n        @click=\"getSelection; dialog1.show = true\"\r\n        bg-color=\"primary\"\r\n        dark>Change Month</w-button></h1>\r\n      <h4>{{ this.formattedRange }}</h4>\r\n      \r\n\r\n      <ul class=\"vessels-list\" v-for=\"vessel in this.$store.getters.getOtherMonth\" :key=\"vessel.vesselID\">\r\n        <li>\r\n          <div class=\"shipBox tableBlock\">\r\n            <img class=\"shipBox\" :src=\"vessel.vesselImageUrl\" width=\"200\" />\r\n          </div>\r\n          <div class=\"tableBlock grpA\"> \r\n            <h4 class=\"title\">{{ vessel.vesselName }}</h4>\r\n            <p class=\"dirWrapper\">\r\n            <img class=\"dir-img\" v-if=\"vessel.passageDirection=='upriver'\" :src=\"this.upArrUrl\" title='Upriver indicator' />\r\n            <img class=\"dir-img\" v-if=\"vessel.passageDirection=='downriver'\" :src=\"this.dnArrUrl\" title='Downriver indicator'/>\r\n            <span class=\"adjacent\"> {{vessel.passageDirection}}</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div class=\"tableBlock\">\r\n            <h4>{{vessel.marker2DO.toLocaleDateString() }}</h4>\r\n            <br/>\r\n            <p><span class=\"label\">LOCK 13:</span> <span class=\"value\">{{ vessel.marker1DO.toLocaleTimeString() }}</span></p>\r\n            <p><span class=\"label\">BRIDGE :</span> <span class=\"value\">{{ vessel.marker2DO.toLocaleTimeString() }}</span></p>\r\n          </div>\r\n\r\n          <div class=\"tableBlock holder\">\r\n            <router-link class=\"pill btn\" :to=\"{ name: 'Detail', params: { id: vessel.passageVesselID}}\">History</router-link>\r\n          </div>\r\n          \r\n        </li>\r\n      </ul>\r\n\r\n    </section>\r\n  </main>\r\n\r\n<!-- Modal for available list selection -->\r\n<w-dialog  id=\"availModal\" \r\n  v-model=\"dialog1.show\"\r\n  :width=\"200\"\r\n  :persistent=\"dialog1.persistent\"\r\n  :persistent-no-animation=\"dialog1.persistentNoAnimation\"\r\n  title-class=\"primary-light1--bg white\"\r\n  >    \r\n  <template #title>\r\n    Past Logs \r\n  </template>\r\n<div class=\"modal-body\">\r\n  <h3>Available Months</h3>  \r\n  <select v-model=\"selectedMonth\" class=\"form-select\" size=\"5\" >\r\n    <option v-for='event in listData' v-bind:key=\"event.key\" :value=\"event.key\">{{event.name}}</option>\r\n  </select> <br> \r\n</div>\r\n  <template #actions>\r\n    <div class=\"spacer\" />\r\n    <w-button @click=\"dialog1.show = false\">Close </w-button>&nbsp;\r\n    <w-button @click=\"updateMonth(); dialog1.show = false\">Submit</w-button>  \r\n  </template>      \r\n</w-dialog>\r\n\r\n</template>\r\n\r\n<script>\r\nimport ManageModel from '@/assets/classes/ManageModel.js'\r\nimport LogsSubMenu from '@/components/LogsSubMenu.vue'\r\nimport format from 'date-fns/format'\r\n\r\nfunction getSelection() {\r\n  let qs = document.querySelector('#sub-list-avail');\r\n  return qs.key;\r\n}\r\n\r\nexport default {\r\n  created: function () {\r\n    window.addEventListener('scroll', this.handleScroll)\r\n    //Calculate key for 2 months ago as default\r\n    let now = new Date()\r\n    now.setDate(15) \r\n    let mili = now.getTime()\r\n    let twoago = mili - 5184000000\r\n    let dt2 = format(new Date(twoago), \"yyyyMM\")\r\n    this.$store.dispatch(\"fetchOtherMonth\",  {monthKey: dt2, region: this.region})\r\n    //Create array of months 9/2020 thru present -2\r\n    let nine20 = new Date('2020-09-01')\r\n    let nine20mili = nine20.getTime()\r\n    this.listData = []\r\n    while(twoago > nine20mili) {\r\n      if(this.listData.length > 200) break;\r\n      this.listData.push({\r\n        key: format(new Date(twoago), 'yyyyMM'),\r\n        name: format(new Date(twoago), 'MMMM yyyy')\r\n      })\r\n      twoago-= 2592000000\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n    this.$store.commit('setSlate', 'LOGS')\r\n    this.$store.commit('setLogsLinkActive', true)\r\n    this.$store.commit('setPageSelected', \"LogsMore\")\r\n  },\r\n  computed: {\r\n    formattedRange() {\r\n      if(this.$store.state.a.otherMonthRange == undefined) {\r\n        return \"Undefined\"\r\n      }\r\n      return \"Range is \"+\r\n      format(this.$store.state.a.otherMonthRange.lo, 'h:mmaaa eeee, LLL do uu') +\r\n      \" to \" +\r\n      format(this.$store.state.a.otherMonthRange.hi, 'h:mmaaa eeee, LLL do uu')\r\n    },\r\n    pageTitle() {\r\n      if(this.$store.state.a.otherMonthRange==undefined) {\r\n        return \"Change Month\"\r\n      }\r\n      return format(this.$store.state.a.otherMonthRange.lo, 'MMMM yyyy')\r\n    }\r\n  },\r\n  methods: {\r\n    topOfPage() {\r\n      document.body.scrollTop = 0;\r\n      document.documentElement.scrollTop = 0;\r\n    },\r\n    handleScroll(event) {\r\n      if(document.documentElement.scrollTop>20) {\r\n        this.scrolled = true\r\n      } else {\r\n        this.scrolled = false\r\n      }\r\n    },\r\n    updateMonth() {\r\n      console.log('updateMonth()', this.selectedMonth)\r\n      this.$store.dispatch(\"fetchOtherMonth\", {monthKey: this.selectedMonth, region: this.region})\r\n    } \r\n  },\r\n  data() {\r\n    return {\r\n      scrolled: false,\r\n      upArrUrl: process.env.VUE_APP_IMG_URL+'/images/uparr.png',\r\n      dnArrUrl: process.env.VUE_APP_IMG_URL+'/images/dwnarr.png',\r\n      region: process.env.VUE_APP_REGION,\r\n      dialog1: {\r\n        show: false,\r\n        fullscreen: false,\r\n        persistent: false,\r\n        persistentNoAnimation: false,\r\n        width: 300,\r\n        remove: false\r\n      },\r\n      listAvail: null,\r\n      listData: [],\r\n      selectedMonth: \"\"\r\n    }\r\n  },\r\n  components: {\r\n    LogsSubMenu\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#LogsMore section {\r\n  padding-top: var(--menu-pad-wide-a);\r\n}\r\n\r\n@media (max-width: 750px) {\r\n  #LogsMore section {\r\n    padding-top: var(--menu-pad-mobile);\r\n  }\r\n}\r\n\r\nimg.vessel {\r\n    height: 150px;\r\n}\r\n  \r\n  \r\nul.vessels-list li {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  list-style: none;\r\n  margin: 2px;\r\n  padding: 2px;\r\n  background-color:aquamarine;\r\n  border-radius: 30px;\r\n  border: 5px solid red;  \r\n}  \r\n  \r\n.label {\r\n  font-weight: bolder;\r\n  float: left;\r\n}  \r\n\r\n.value {\r\n  float:right;\r\n}\r\n\r\nh4.title {\r\n  margin-bottom: 25px;\r\n}\r\n    \r\n.tableBlock {\r\n  min-width: 220px;\r\n  background-color: aquamarine; \r\n  padding: 10px;\r\n}\r\n\r\n.tableBlock h4 {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.dirWrapper {\r\n  text-align: center;\r\n}\r\n\r\n.shipBoxData {\r\n  background-color: white;\r\n  opacity: .5;\r\n  font-weight: 600;\r\n  transform: translateY(-30px);\r\n  padding-left: 5px;\r\n}\r\n\r\n.pill {\r\n  background-color: #ddd;\r\n  border: none;\r\n  color: black;\r\n  padding: 10px 20px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  margin: 4px 2px;\r\n  cursor: pointer;\r\n  border-radius: 16px;\r\n}\r\n\r\nimg.dir-img {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  height: 25px;\r\n  filter: drop-shadow(2px 2px 4px #4444dd);\r\n}\r\n\r\n.holder {\r\n  display:flex; \r\n  align-items: center;\r\n}\r\n\r\n#topbtn {\r\n    background-color: greenyellow;\r\n    border: 4px solid black;\r\n    text-align: center;\r\n    border-radius: 10%; \r\n    padding: 10px;\r\n    font-weight: bold;\r\n    position: fixed;\r\n    bottom: 30px;\r\n    right: 15px;\r\n    opacity: 0;\r\n    transition: opacity 0.5s;\r\n}\r\n\r\n#topbtn.active {\r\n  opacity: 1;\r\n  transition: opacity 0.5s;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn {\r\n  transform: translateX(35px);\r\n}\r\n\r\n.pill:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n</style>","import { render } from \"./LogsMore.vue?vue&type=template&id=0ec5ec6b&scoped=true\"\nimport script from \"./LogsMore.vue?vue&type=script&lang=js\"\nexport * from \"./LogsMore.vue?vue&type=script&lang=js\"\n\nimport \"./LogsMore.vue?vue&type=style&index=0&id=0ec5ec6b&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0ec5ec6b\"\n\nexport default script"],"sourceRoot":""}